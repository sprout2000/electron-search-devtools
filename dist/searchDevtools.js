"use strict";var __awaiter=this&&this.__awaiter||function(e,s,a,l){return new(a=a||Promise)(function(t,o){function r(e){try{n(l.next(e))}catch(e){o(e)}}function i(e){try{n(l.throw(e))}catch(e){o(e)}}function n(e){e.done?t(e.value):((o=e.value)instanceof a?o:new a(function(e){e(o)})).then(r,i);var o}n((l=l.apply(e,s||[])).next())})},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});exports.searchDevtools=exports.getOptions=exports.getExtDir=exports.whichDevtools=exports.typeGuardOptions=void 0;const os_1=__importDefault(require("os")),fs_1=__importDefault(require("fs")),path_1=__importDefault(require("path")),typeGuardArg=e=>null!==e&&"string"==typeof e&&("JQUERY"===e||"ANGULAR"===e||"VUE3"===e||"VUE"===e||"REACT"===e||"REDUX"===e),typeGuardOptions=e=>{if(void 0===e)return!0;if("object"!=typeof e)return!1;if(void 0===e.profile&&void 0===e.browser)return!1;if("string"!=typeof e.profile&&void 0!==e.profile)return!1;switch(e.browser){case void 0:case"google-chrome":case"chromium":return!0;default:return!1}};exports.typeGuardOptions=typeGuardOptions;const whichDevtools=(e,o)=>{var t=o||"Default";switch(e){case"JQUERY":return`/${t}/Extensions/dbhhnnnpaeobfddmlalhnehgclcmjimi`;case"ANGULAR":return`/${t}/Extensions/ienfalfjdbdpebioblfackkekamfmbnh`;case"VUE3":return`/${t}/Extensions/ljjemllljcmogpfapbkkighbhhppjdbg`;case"VUE":return`/${t}/Extensions/nhdogjmejiglipccpnnnanhbledajbpd`;case"REDUX":return`/${t}/Extensions/lmhkpmbekcpmknklioeibfkpmmfibljd`;default:return`/${t}/Extensions/fmkadmapgofadopljbjfkapdkoienihi`}};exports.whichDevtools=whichDevtools;const getExtDir=(e,o)=>"darwin"===e?"/Library/Application Support/Google/Chrome":"win32"===e?"/AppData/Local/Google/Chrome/User Data":`/.config/${o}`;exports.getExtDir=getExtDir;const getOptions=e=>{return{profile:e&&e.profile||"Default",browser:e&&e.browser||"google-chrome"}};exports.getOptions=getOptions;const searchDevtools=(i,n)=>__awaiter(void 0,void 0,void 0,function*(){if(typeGuardArg(i)){if(exports.typeGuardOptions(n)){var e=exports.getOptions(n),o=exports.whichDevtools(i,e.profile);const t=`${i.charAt(0)}${i.slice(1).toLowerCase()} Devtools`,r=path_1.default.join(os_1.default.homedir(),exports.getExtDir(os_1.default.platform(),e.browser),o);return fs_1.default.promises.readdir(r,{withFileTypes:!0}).then(e=>e.filter(e=>e.isDirectory()).filter(({name:e})=>e.match(/[0-9]*\.?[0-9]+\.[0-9]+_[0-9]+$/)).map(({name:e})=>path_1.default.resolve(r,e)).filter(e=>__awaiter(void 0,void 0,void 0,function*(){return fs_1.default.promises.access(`${e}${path_1.default.sep}manifest.json`).catch(()=>console.log(`manifest.json for ${t} is not found.`))})).pop()).then(e=>e||console.log(`${t} is undefined or not found.`)).catch(()=>console.log(`${t} is not found.`))}console.log("The option should be an object containing the name of the profile or browser.")}else console.log("You need to select an argument from the following six choices:\n",'"REACT", "REDUX", "ANGULAR", "VUE", "VUE3", or "JQUERY".')});exports.searchDevtools=searchDevtools;